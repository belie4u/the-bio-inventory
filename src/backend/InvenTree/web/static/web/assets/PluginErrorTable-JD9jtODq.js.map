{"version":3,"file":"PluginErrorTable-JD9jtODq.js","sources":["../../../../../../frontend/src/tables/plugin/PluginErrorTable.tsx"],"sourcesContent":["import { t } from '@lingui/core/macro';\nimport { Code } from '@mantine/core';\nimport { useMemo } from 'react';\n\nimport { ApiEndpoints } from '@lib/enums/ApiEndpoints';\nimport { apiUrl } from '@lib/functions/Api';\nimport type { TableColumn } from '@lib/types/Tables';\nimport { useTable } from '../../hooks/UseTable';\nimport { InvenTreeTable } from '../InvenTreeTable';\n\nexport interface PluginRegistryErrorI {\n  id: number;\n  stage: string;\n  name: string;\n  message: string;\n}\n\n/**\n * Table displaying list of plugin registry errors\n */\nexport default function PluginErrorTable() {\n  const table = useTable('registryErrors', 'id');\n\n  const registryErrorTableColumns: TableColumn<PluginRegistryErrorI>[] =\n    useMemo(\n      () => [\n        {\n          accessor: 'stage',\n          title: t`Stage`\n        },\n        {\n          accessor: 'name',\n          title: t`Name`\n        },\n        {\n          accessor: 'message',\n          title: t`Message`,\n          render: (row) => <Code>{row.message}</Code>\n        }\n      ],\n      []\n    );\n\n  return (\n    <InvenTreeTable\n      url={apiUrl(ApiEndpoints.plugin_registry_status)}\n      tableState={table}\n      columns={registryErrorTableColumns}\n      props={{\n        dataFormatter: (data: any) =>\n          data.registry_errors.map((e: any, i: number) => ({ id: i, ...e })),\n        enableDownload: false,\n        enableFilters: false,\n        enableSearch: false\n      }}\n    />\n  );\n}\n"],"names":["PluginErrorTable","table","useTable","registryErrorTableColumns","useMemo","accessor","title","_i18n","_","id","render","row","jsx","Code","message","InvenTreeTable","apiUrl","ApiEndpoints","plugin_registry_status","dataFormatter","data","registry_errors","map","e","i","enableDownload","enableFilters","enableSearch"],"mappings":"sYAoBA,SAAwBA,GAAmB,CACzC,MAAMC,EAAQC,EAAS,iBAAkB,IAAI,EAEvCC,EACJC,EAAAA,QACE,IAAM,CACJ,CACEC,SAAU,QACVC,MAAKC,EAAAC,EAAE,CAAAC,GAAA,QAAA,CAAO,CAAC,EAEjB,CACEJ,SAAU,OACVC,MAAKC,EAAAC,EAAE,CAAAC,GAAA,QAAA,CAAM,CAAC,EAEhB,CACEJ,SAAU,UACVC,MAAKC,EAAAC,EAAE,CAAAC,GAAA,QAAA,CAAS,EAChBC,OAASC,GAAQC,EAAAA,IAACC,EAAA,CAAMF,WAAIG,OAAAA,CAAQ,CAAA,CACrC,EAEH,CAAA,CACF,EAEF,OACEF,EAAAA,IAACG,EAAA,CACC,IAAKC,EAAOC,EAAaC,sBAAsB,EAC/C,WAAYjB,EACZ,QAASE,EACT,MAAO,CACLgB,cAAgBC,GACdA,EAAKC,gBAAgBC,IAAI,CAACC,EAAQC,KAAe,CAAEf,GAAIe,EAAG,GAAGD,CAAAA,EAAI,EACnEE,eAAgB,GAChBC,cAAe,GACfC,aAAc,EAAA,EACd,CAGR"}