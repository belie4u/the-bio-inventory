{"version":3,"mappings":"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","names":["PluginSettingsGroup","Loadable","lazy","SystemSettings","systemSettingsPanels","useMemo","name","label","_i18n","_","id","icon","IconServerCog","content","jsx","GlobalSettingList","IconFingerprint","IconQrcode","IconBellCog","IconCurrencyDollar","jsxs","Fragment","IconTag","IconFileAnalytics","IconCategory","IconPackages","IconClipboardList","IconTools","IconShoppingCart","IconTruckDelivery","IconTruckReturn","IconPlugConnected","user","useUserState","server","useServerApiState","useShallow","state","isLoggedIn","PageTitle","isStaff","Stack","SettingsHeader","instance","PanelGroup","PermissionDenied","Skeleton"],"ignoreList":[],"sources":["../../../../../../frontend/src/pages/Index/Settings/SystemSettings.tsx"],"sourcesContent":["import { t } from '@lingui/core/macro';\nimport { Skeleton, Stack } from '@mantine/core';\nimport {\n  IconBellCog,\n  IconCategory,\n  IconClipboardList,\n  IconCurrencyDollar,\n  IconFileAnalytics,\n  IconFingerprint,\n  IconPackages,\n  IconPlugConnected,\n  IconQrcode,\n  IconServerCog,\n  IconShoppingCart,\n  IconTag,\n  IconTools,\n  IconTruckDelivery,\n  IconTruckReturn\n} from '@tabler/icons-react';\nimport { lazy, useMemo } from 'react';\n\nimport { useShallow } from 'zustand/react/shallow';\nimport PermissionDenied from '../../../components/errors/PermissionDenied';\nimport PageTitle from '../../../components/nav/PageTitle';\nimport { SettingsHeader } from '../../../components/nav/SettingsHeader';\nimport type { PanelType } from '../../../components/panels/Panel';\nimport { PanelGroup } from '../../../components/panels/PanelGroup';\nimport { GlobalSettingList } from '../../../components/settings/SettingList';\nimport { Loadable } from '../../../functions/loading';\nimport { useServerApiState } from '../../../states/ServerApiState';\nimport { useUserState } from '../../../states/UserState';\n\nconst PluginSettingsGroup = Loadable(\n  lazy(() => import('./PluginSettingsGroup'))\n);\n\n/**\n * System settings page\n */\nexport default function SystemSettings() {\n  const systemSettingsPanels: PanelType[] = useMemo(() => {\n    return [\n      {\n        name: 'server',\n        label: t`Server`,\n        icon: <IconServerCog />,\n        content: (\n          <GlobalSettingList\n            keys={[\n              'INVENTREE_BASE_URL',\n              'INVENTREE_COMPANY_NAME',\n              'INVENTREE_INSTANCE_ID',\n              'INVENTREE_ANNOUNCE_ID',\n              'INVENTREE_INSTANCE',\n              'INVENTREE_INSTANCE_TITLE',\n              'INVENTREE_RESTRICT_ABOUT',\n              'DISPLAY_FULL_NAMES',\n              'DISPLAY_PROFILE_INFO',\n              'INVENTREE_UPDATE_CHECK_INTERVAL',\n              'INVENTREE_DOWNLOAD_FROM_URL',\n              'INVENTREE_DOWNLOAD_IMAGE_MAX_SIZE',\n              'INVENTREE_DOWNLOAD_FROM_URL_USER_AGENT',\n              'INVENTREE_STRICT_URLS',\n              'INVENTREE_BACKUP_ENABLE',\n              'INVENTREE_BACKUP_DAYS',\n              'INVENTREE_DELETE_TASKS_DAYS',\n              'INVENTREE_DELETE_ERRORS_DAYS',\n              'INVENTREE_DELETE_NOTIFICATIONS_DAYS',\n              'INVENTREE_DELETE_EMAIL_DAYS',\n              'INVENTREE_PROTECT_EMAIL_LOG'\n            ]}\n          />\n        )\n      },\n      {\n        name: 'authentication',\n        label: t`Authentication`,\n        icon: <IconFingerprint />,\n        content: (\n          <GlobalSettingList\n            keys={[\n              'LOGIN_ENABLE_PWD_FORGOT',\n              'LOGIN_MAIL_REQUIRED',\n              'LOGIN_ENFORCE_MFA',\n              'LOGIN_ENABLE_REG',\n              'LOGIN_SIGNUP_MAIL_TWICE',\n              'LOGIN_SIGNUP_PWD_TWICE',\n              'SIGNUP_GROUP',\n              'LOGIN_SIGNUP_MAIL_RESTRICTION',\n              'LOGIN_ENABLE_SSO',\n              'LOGIN_ENABLE_SSO_REG',\n              'LOGIN_SIGNUP_SSO_AUTO',\n              'LOGIN_ENABLE_SSO_GROUP_SYNC',\n              'SSO_GROUP_MAP',\n              'SSO_GROUP_KEY',\n              'SSO_REMOVE_GROUPS'\n            ]}\n          />\n        )\n      },\n      {\n        name: 'barcode',\n        label: t`Barcodes`,\n        icon: <IconQrcode />,\n        content: (\n          <GlobalSettingList\n            keys={[\n              'BARCODE_ENABLE',\n              'BARCODE_INPUT_DELAY',\n              'BARCODE_WEBCAM_SUPPORT',\n              'BARCODE_SHOW_TEXT',\n              'BARCODE_GENERATION_PLUGIN',\n              'BARCODE_STORE_RESULTS',\n              'BARCODE_RESULTS_MAX_NUM'\n            ]}\n          />\n        )\n      },\n      {\n        name: 'notifications',\n        label: t`Notifications`,\n        icon: <IconBellCog />,\n        content: (\n          <PluginSettingsGroup\n            mixin='notification'\n            global={true}\n            message={t`The settings below are specific to each available notification method`}\n          />\n        )\n      },\n      {\n        name: 'pricing',\n        label: t`Pricing`,\n        icon: <IconCurrencyDollar />,\n        content: (\n          <>\n            <GlobalSettingList\n              keys={[\n                'INVENTREE_DEFAULT_CURRENCY',\n                'CURRENCY_CODES',\n                'PART_INTERNAL_PRICE',\n                'PART_BOM_USE_INTERNAL_PRICE',\n                'PRICING_DECIMAL_PLACES_MIN',\n                'PRICING_DECIMAL_PLACES',\n                'PRICING_AUTO_UPDATE',\n                'PRICING_UPDATE_DAYS'\n              ]}\n            />\n            <br />\n            <GlobalSettingList\n              keys={[\n                'PRICING_USE_SUPPLIER_PRICING',\n                'PRICING_PURCHASE_HISTORY_OVERRIDES_SUPPLIER',\n                'PRICING_USE_STOCK_PRICING',\n                'PRICING_STOCK_ITEM_AGE_DAYS',\n                'PRICING_USE_VARIANT_PRICING',\n                'PRICING_ACTIVE_VARIANTS'\n              ]}\n            />\n            <br />\n            <GlobalSettingList\n              keys={['CURRENCY_UPDATE_PLUGIN', 'CURRENCY_UPDATE_INTERVAL']}\n            />\n          </>\n        )\n      },\n      {\n        name: 'labels',\n        label: t`Labels`,\n        icon: <IconTag />,\n        content: <GlobalSettingList keys={['LABEL_ENABLE', 'LABEL_DPI']} />\n      },\n      {\n        name: 'reporting',\n        label: t`Reporting`,\n        icon: <IconFileAnalytics />,\n        content: (\n          <GlobalSettingList\n            keys={[\n              'REPORT_ENABLE',\n              'REPORT_DEFAULT_PAGE_SIZE',\n              'REPORT_DEBUG_MODE',\n              'REPORT_LOG_ERRORS'\n            ]}\n          />\n        )\n      },\n      {\n        name: 'parts',\n        label: t`Parts`,\n        icon: <IconCategory />,\n        content: (\n          <GlobalSettingList\n            keys={[\n              'PART_IPN_REGEX',\n              'PART_ALLOW_DUPLICATE_IPN',\n              'PART_ALLOW_EDIT_IPN',\n              'PART_ALLOW_DELETE_FROM_ASSEMBLY',\n              'PART_ENABLE_REVISION',\n              'PART_REVISION_ASSEMBLY_ONLY',\n              'PART_NAME_FORMAT',\n              'PART_SHOW_RELATED',\n              'PART_CREATE_INITIAL',\n              'PART_CREATE_SUPPLIER',\n              'PART_TEMPLATE',\n              'PART_ASSEMBLY',\n              'PART_COMPONENT',\n              'PART_TRACKABLE',\n              'PART_PURCHASEABLE',\n              'PART_SALABLE',\n              'PART_VIRTUAL',\n              'PART_COPY_BOM',\n              'PART_COPY_PARAMETERS',\n              'PART_COPY_TESTS',\n              'PART_CATEGORY_PARAMETERS',\n              'PART_CATEGORY_DEFAULT_ICON',\n              'PART_PARAMETER_ENFORCE_UNITS'\n            ]}\n          />\n        )\n      },\n      {\n        name: 'stock',\n        label: t`Stock`,\n        icon: <IconPackages />,\n        content: (\n          <GlobalSettingList\n            keys={[\n              'SERIAL_NUMBER_GLOBALLY_UNIQUE',\n              'STOCK_DELETE_DEPLETED_DEFAULT',\n              'STOCK_BATCH_CODE_TEMPLATE',\n              'STOCK_ENABLE_EXPIRY',\n              'STOCK_STALE_DAYS',\n              'STOCK_ALLOW_EXPIRED_SALE',\n              'STOCK_ALLOW_EXPIRED_BUILD',\n              'STOCK_OWNERSHIP_CONTROL',\n              'STOCK_LOCATION_DEFAULT_ICON',\n              'STOCK_SHOW_INSTALLED_ITEMS',\n              'STOCK_ENFORCE_BOM_INSTALLATION',\n              'STOCK_ALLOW_OUT_OF_STOCK_TRANSFER',\n              'TEST_STATION_DATA'\n            ]}\n          />\n        )\n      },\n      {\n        name: 'stock-history',\n        label: t`Stock History`,\n        icon: <IconClipboardList />,\n        content: (\n          <GlobalSettingList\n            keys={[\n              'STOCKTAKE_ENABLE',\n              'STOCKTAKE_EXCLUDE_EXTERNAL',\n              'STOCKTAKE_AUTO_DAYS',\n              'STOCKTAKE_DELETE_OLD_ENTRIES',\n              'STOCKTAKE_DELETE_DAYS'\n            ]}\n          />\n        )\n      },\n      {\n        name: 'buildorders',\n        label: t`Build Orders`,\n        icon: <IconTools />,\n        content: (\n          <GlobalSettingList\n            keys={[\n              'BUILDORDER_REFERENCE_PATTERN',\n              'BUILDORDER_EXTERNAL_BUILDS',\n              'BUILDORDER_REQUIRE_RESPONSIBLE',\n              'BUILDORDER_REQUIRE_ACTIVE_PART',\n              'BUILDORDER_REQUIRE_LOCKED_PART',\n              'BUILDORDER_REQUIRE_VALID_BOM',\n              'BUILDORDER_REQUIRE_CLOSED_CHILDS',\n              'PREVENT_BUILD_COMPLETION_HAVING_INCOMPLETED_TESTS'\n            ]}\n          />\n        )\n      },\n      {\n        name: 'purchaseorders',\n        label: t`Purchase Orders`,\n        icon: <IconShoppingCart />,\n        content: (\n          <GlobalSettingList\n            keys={[\n              'PURCHASEORDER_REFERENCE_PATTERN',\n              'PURCHASEORDER_REQUIRE_RESPONSIBLE',\n              'PURCHASEORDER_CONVERT_CURRENCY',\n              'PURCHASEORDER_EDIT_COMPLETED_ORDERS',\n              'PURCHASEORDER_AUTO_COMPLETE'\n            ]}\n          />\n        )\n      },\n      {\n        name: 'salesorders',\n        label: t`Sales Orders`,\n        icon: <IconTruckDelivery />,\n        content: (\n          <GlobalSettingList\n            keys={[\n              'SALESORDER_REFERENCE_PATTERN',\n              'SALESORDER_REQUIRE_RESPONSIBLE',\n              'SALESORDER_DEFAULT_SHIPMENT',\n              'SALESORDER_EDIT_COMPLETED_ORDERS',\n              'SALESORDER_SHIP_COMPLETE'\n            ]}\n          />\n        )\n      },\n      {\n        name: 'returnorders',\n        label: t`Return Orders`,\n        icon: <IconTruckReturn />,\n        content: (\n          <GlobalSettingList\n            keys={[\n              'RETURNORDER_ENABLED',\n              'RETURNORDER_REFERENCE_PATTERN',\n              'RETURNORDER_REQUIRE_RESPONSIBLE',\n              'RETURNORDER_EDIT_COMPLETED_ORDERS'\n            ]}\n          />\n        )\n      },\n      {\n        name: 'plugins',\n        label: t`Plugin Settings`,\n        icon: <IconPlugConnected />,\n        content: <PluginSettingsGroup global={true} />\n      }\n    ];\n  }, []);\n\n  const user = useUserState();\n\n  const [server] = useServerApiState(useShallow((state) => [state.server]));\n\n  if (!user.isLoggedIn()) {\n    return <Skeleton />;\n  }\n\n  return (\n    <>\n      <PageTitle title={t`System Settings`} />\n      {user.isStaff() ? (\n        <Stack gap='xs'>\n          <SettingsHeader\n            label='system'\n            title={t`System Settings`}\n            subtitle={server.instance || ''}\n          />\n          <PanelGroup\n            pageKey='system-settings'\n            panels={systemSettingsPanels}\n            model='systemsettings'\n            id={null}\n          />\n        </Stack>\n      ) : (\n        <PermissionDenied />\n      )}\n    </>\n  );\n}\n"],"file":"assets/SystemSettings-CLBKAjzm.js"}