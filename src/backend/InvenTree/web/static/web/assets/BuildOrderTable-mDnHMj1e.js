import{r as o,i as e,j as a}from"./vendor-COjCG5sX.js";import{q as C,b as F,A as h}from"./UseForm-DUtLE7-5.js";import{P as D}from"./index-dkDFLfDd.js";import{f as x,m as i,b as S,A as b,U as T,e as g}from"./index-ClP83spC.js";import{u as j}from"./BuildForms-DlhAzCk8.js";import{u as A,c as B,b as R,d as y,A as V,M as L,e as E,C as U,f as w,T as M,g as P,S as v,h as O,i as I,j as k,k as q,H as J,L as N,l as X,J as H,n as W,I as G}from"./InvenTreeTable-BLgfUICM.js";import{R as Z,P as z,D as K,S as Q,b as Y,B as $,c as ee,e as te,T as ae,k as se,g as re}from"./ColumnRenderers-g3zQL0h_.js";function me({partId:s,parentBuildId:r,salesOrderId:d}){const l=x(),m=A(s?"buildorder-part":"buildorder-index"),c=o.useMemo(()=>[Z({}),z({switchable:!1}),{accessor:"part_detail.IPN",sortable:!0,switchable:!0,title:e._({id:"3wXEsN"})},{accessor:"part_detail.revision",title:e._({id:"6LTyxl"}),sortable:!0,defaultVisible:!1},K({accessor:"title",sortable:!1}),{accessor:"completed",title:e._({id:"qqWcBV"}),minWidth:125,sortable:!0,switchable:!1,render:t=>a.jsx(D,{progressLabel:!0,value:t.completed,maximum:t.quantity})},Q({model:i.build}),Y({defaultVisible:!1}),{accessor:"level",sortable:!0,switchable:!0,hidden:!r,defaultVisible:!1},{accessor:"priority",sortable:!0,defaultVisible:!1},$({accessor:"external",title:e._({id:"bVhrVt"}),sortable:!0,switchable:!0,hidden:!l.isSet("BUILDORDER_EXTERNAL_BUILDS")}),ee({defaultVisible:!1}),te({defaultVisible:!1}),ae({}),se({accessor:"completion_date",title:e._({id:"41ha49"}),sortable:!0}),{accessor:"issued_by",sortable:!0,render:t=>a.jsx(C,{instance:t==null?void 0:t.issued_by_detail})},re({})],[r,l]),p=o.useMemo(()=>{const t=[B(),R({model:i.build}),y(),V(),L(),E(),U(),w(),M(),P(),v(),O(),{name:"has_target_date",type:"boolean",label:e._({id:"egtJvp"}),description:e._({id:"hnmJUh"})},{name:"has_start_date",type:"boolean",label:e._({id:"7Cajbj"}),description:e._({id:"dklbxT"})},I(),k(),q(),J(),N(),X(),{name:"external",label:e._({id:"bVhrVt"}),description:e._({id:"tJZ0bI"}),active:l.isSet("BUILDORDER_EXTERNAL_BUILDS")},H()];return s&&t.push(W()),t},[s,l]),n=S(),f=j({create:!0,modalId:"create-build-order"}),u=F({url:b.build_order_list,title:e._({id:"59jtLx"}),modalId:"create-build-order",fields:f,initialData:{part:s,sales_order:d,parent:r},follow:!0,modelType:i.build}),_=o.useMemo(()=>[a.jsx(h,{hidden:!n.hasAddRole(T.build),tooltip:e._({id:"59jtLx"}),onClick:()=>u.open()},"add-build-order")],[n]);return a.jsxs(a.Fragment,{children:[u.modal,a.jsx(G,{url:g(b.build_order_list),tableState:m,columns:c,props:{params:{part:s,ancestor:r,sales_order:d,part_detail:!0},tableActions:_,tableFilters:p,modelType:i.build,enableSelection:!0,enableReports:!0,enableDownload:!0}})]})}export{me as B};
//# sourceMappingURL=BuildOrderTable-mDnHMj1e.js.map
