import{r as a,i as r,j as o,eG as f}from"./vendor-COjCG5sX.js";import{A as g}from"./ActionButton-DLsRvAT1.js";import{A as m,e as h}from"./index-ClP83spC.js";import{b as x}from"./UseForm-DUtLE7-5.js";import{u as v}from"./UseInstance-CwLXxgXl.js";const _=()=>{const t=v({endpoint:m.plugin_list,defaultValue:[],hasPrimaryKey:!1,refetchOnMount:!0,refetchOnWindowFocus:!1,params:{active:!0}}),i=a.useCallback(e=>t.instance.filter(s=>!!s.mixins[e]),[t.instance]);return{plugins:t.instance,withMixin:i}},y=t=>_().withMixin(t);function C({stockId:t,locationId:i}){const e=y("locate"),[s,u]=a.useState(void 0);a.useEffect(()=>{var n;s&&e?e.find(d=>d.key===s)||u(void 0):u(((n=e[0])==null?void 0:n.key)??void 0)},[s,e]);const p=a.useMemo(()=>({plugin:{field_type:"choice",value:s,onValueChange:n=>{u(n)},choices:e.map(n=>{var l;return{value:n.key,display_name:((l=n.meta)==null?void 0:l.human_name)??n.name}})},item:{hidden:!0,value:t},location:{hidden:!0,value:i}}),[t,i,e]),c=x({url:h(m.plugin_locate_item),method:"POST",title:r._({id:"px+tn2"}),fields:p,successMessage:r._({id:"AXn3rz"})});return!e||e.length===0||!t&&!i?null:o.jsxs(o.Fragment,{children:[c.modal,o.jsx(g,{icon:o.jsx(f,{}),variant:"outline",size:"lg",tooltip:r._({id:"px+tn2"}),onClick:c.open,tooltipAlignment:"bottom"})]})}export{C as L};
//# sourceMappingURL=LocateItemButton-BZ31dqfp.js.map
