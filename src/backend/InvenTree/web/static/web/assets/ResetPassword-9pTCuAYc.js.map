{"version":3,"file":"ResetPassword-9pTCuAYc.js","sources":["../../../../../../frontend/src/pages/Auth/ResetPassword.tsx"],"sourcesContent":["import { t } from '@lingui/core/macro';\nimport { Trans } from '@lingui/react/macro';\nimport { Button, PasswordInput } from '@mantine/core';\nimport { useForm } from '@mantine/form';\nimport { notifications } from '@mantine/notifications';\nimport { useEffect } from 'react';\nimport { useNavigate, useSearchParams } from 'react-router-dom';\n\nimport { handlePasswordReset } from '../../functions/auth';\nimport { Wrapper } from './Layout';\n\nexport default function ResetPassword() {\n  const simpleForm = useForm({ initialValues: { password: '' } });\n  const [searchParams] = useSearchParams();\n  const navigate = useNavigate();\n  const key = searchParams.get('key');\n\n  // make sure we have a key\n  useEffect(() => {\n    if (!key) {\n      notifications.show({\n        title: t`Key invalid`,\n        message: t`You need to provide a valid key to set a new password. Check your inbox for a reset link.`,\n        color: 'red',\n        autoClose: false\n      });\n    }\n  }, [key]);\n\n  return (\n    <Wrapper titleText={t`Set new password`}>\n      <PasswordInput\n        required\n        label={t`Password`}\n        description={t`The desired new password`}\n        {...simpleForm.getInputProps('password')}\n      />\n      <Button\n        type='submit'\n        onClick={() =>\n          handlePasswordReset(key, simpleForm.values.password, navigate)\n        }\n      >\n        <Trans>Send Password</Trans>\n      </Button>\n    </Wrapper>\n  );\n}\n"],"names":["ResetPassword","simpleForm","useForm","initialValues","password","searchParams","useSearchParams","navigate","useNavigate","key","get","useEffect","notifications","show","title","_i18n","_","id","message","color","autoClose","jsxs","Wrapper","jsx","PasswordInput","getInputProps","Button","handlePasswordReset","values","_Trans"],"mappings":"kTAWA,SAAwBA,GAAgB,CACtC,MAAMC,EAAaC,EAAQ,CAAEC,cAAe,CAAEC,SAAU,EAAA,CAAG,CAAG,EACxD,CAACC,CAAY,EAAIC,EAAAA,EACjBC,EAAWC,EAAAA,EACXC,EAAMJ,EAAaK,IAAI,KAAK,EAGlCC,OAAAA,EAAAA,UAAU,IAAM,CACTF,GACHG,EAAcC,KAAK,CACjBC,MAAKC,EAAAC,EAAE,CAAAC,GAAA,QAAA,CAAa,EACpBC,QAAOH,EAAAC,EAAE,CAAAC,GAAA,QAAA,CAA2F,EACpGE,MAAO,MACPC,UAAW,EAAA,CACZ,CAEL,EAAG,CAACX,CAAG,CAAC,EAGNY,EAAAA,KAACC,EAAA,CAAQ,UAAUP,EAAAC,EAAC,CAAAC,GAAA,QAAA,CAAkB,EACpC,SAAA,CAAAM,EAAAA,IAACC,EAAA,CACC,SAAQ,GACR,MAAMT,EAAAC,EAAC,CAAAC,GAAA,QAAA,CAAU,EACjB,YAAYF,EAAAC,EAAC,CAAAC,GAAA,QAAA,CAA0B,EACvC,GAAIhB,EAAWwB,cAAc,UAAU,CAAA,CAAE,EAE3CF,EAAAA,IAACG,EAAA,CACC,KAAK,SACL,QAAS,IACPC,EAAoBlB,EAAKR,EAAW2B,OAAOxB,SAAUG,CAAQ,EAG/D,eAAAsB,EAAA,CAAAZ,GAAA,SAA4B,CAAA,CAC9B,CAAA,EACF,CAEJ"}