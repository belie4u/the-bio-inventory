{"version":3,"file":"MFA-D3gvxxE8.js","sources":["../../../../../../frontend/src/pages/Auth/MFA.tsx"],"sourcesContent":["import { t } from '@lingui/core/macro';\nimport { Trans } from '@lingui/react/macro';\nimport { Button, Checkbox, TextInput } from '@mantine/core';\nimport { useForm } from '@mantine/form';\nimport { useState } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { handleMfaLogin } from '../../functions/auth';\nimport { Wrapper } from './Layout';\n\nexport default function Mfa() {\n  const simpleForm = useForm({ initialValues: { code: '', remember: false } });\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [loginError, setLoginError] = useState<string | undefined>(undefined);\n\n  return (\n    <Wrapper titleText={t`Multi-Factor Authentication`} logOff>\n      <TextInput\n        required\n        label={t`TOTP Code`}\n        name='TOTP'\n        description={t`Enter your TOTP or recovery code`}\n        {...simpleForm.getInputProps('code')}\n        error={loginError}\n      />\n      <Checkbox\n        label={t`Remember this device`}\n        name='remember'\n        description={t`If enabled, you will not be asked for MFA on this device for 30 days.`}\n        {...simpleForm.getInputProps('remember', { type: 'checkbox' })}\n      />\n      <Button\n        type='submit'\n        onClick={() =>\n          handleMfaLogin(navigate, location, simpleForm.values, setLoginError)\n        }\n      >\n        <Trans>Log in</Trans>\n      </Button>\n    </Wrapper>\n  );\n}\n"],"names":["Mfa","simpleForm","useForm","initialValues","code","remember","navigate","useNavigate","location","useLocation","loginError","setLoginError","useState","undefined","jsxs","Wrapper","_i18n","_","id","jsx","TextInput","getInputProps","Checkbox","type","Button","handleMfaLogin","values","_Trans"],"mappings":"6QASA,SAAwBA,GAAM,CAC5B,MAAMC,EAAaC,EAAQ,CAAEC,cAAe,CAAEC,KAAM,GAAIC,SAAU,EAAA,CAAM,CAAG,EACrEC,EAAWC,EAAAA,EACXC,EAAWC,EAAAA,EACX,CAACC,EAAYC,CAAa,EAAIC,EAAAA,SAA6BC,MAAS,EAE1E,OACEC,EAAAA,KAACC,EAAA,CAAQ,UAAUC,EAAAC,EAAC,CAAAC,GAAA,QAAA,CAA6B,EAAG,OAAM,GACxD,SAAA,CAAAC,EAAAA,IAACC,EAAA,CACC,SAAQ,GACR,MAAMJ,EAAAC,EAAC,CAAAC,GAAA,QAAA,CAAW,EAClB,KAAK,OACL,YAAYF,EAAAC,EAAC,CAAAC,GAAA,QAAA,CAAkC,EAC/C,GAAIjB,EAAWoB,cAAc,MAAM,EACnC,MAAOX,EAAW,EAEpBS,EAAAA,IAACG,EAAA,CACC,MAAMN,EAAAC,EAAC,CAAAC,GAAA,QAAA,CAAsB,EAC7B,KAAK,WACL,YAAYF,EAAAC,EAAC,CAAAC,GAAA,QAAA,CAAuE,EACpF,GAAIjB,EAAWoB,cAAc,WAAY,CAAEE,KAAM,UAAA,CAAY,EAAE,EAEjEJ,EAAAA,IAACK,EAAA,CACC,KAAK,SACL,QAAS,IACPC,EAAenB,EAAUE,EAAUP,EAAWyB,OAAQf,CAAa,EAGrE,eAAAgB,EAAA,CAAAT,GAAA,SAAqB,CAAA,CACvB,CAAA,EACF,CAEJ"}