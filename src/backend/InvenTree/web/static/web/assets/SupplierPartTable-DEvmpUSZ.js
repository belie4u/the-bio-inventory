import{r,j as s,i as t,B as x}from"./vendor-COjCG5sX.js";import{n as h,b as j,A as T,u as M,a as D}from"./UseForm-DUtLE7-5.js";import{u as E,R,a as y,I as w}from"./InvenTreeTable-BLgfUICM.js";import{b as g,A as p,U as n,m as U,e as B}from"./index-ClP83spC.js";import{a as C}from"./CompanyForms-CQAVE0Ar.js";import{P as N,D as Q,B as V,h as I,L,N as O,C as P}from"./ColumnRenderers-g3zQL0h_.js";function K({params:a}){const u=E("supplierparts"),l=g(),S=r.useMemo(()=>[N({switchable:"part"in a,part:"part_detail"}),{accessor:"supplier",sortable:!0,render:e=>s.jsx(P,{company:e==null?void 0:e.supplier_detail})},{accessor:"SKU",title:t._({id:"nne72x"}),sortable:!0},Q({}),{accessor:"manufacturer",title:t._({id:"+m9/3S"}),sortable:!0,render:e=>s.jsx(P,{company:e==null?void 0:e.manufacturer_detail})},{accessor:"MPN",sortable:!0,title:t._({id:"TOxiOu"}),render:e=>{var i;return(i=e==null?void 0:e.manufacturer_part_detail)==null?void 0:i.MPN}},V({accessor:"active",title:t._({id:"F6pfE9"}),sortable:!0,switchable:!0,defaultVisible:!1}),I({accessor:"in_stock",sortable:!0}),{accessor:"packaging",sortable:!0,defaultVisible:!1},{accessor:"pack_quantity",sortable:!0,render:e=>{const i=(e==null?void 0:e.part_detail)??{},f=[];return i.units&&f.push(s.jsxs(x,{children:[t._({id:"v9F5VO"})," : ",i.units]},"base")),s.jsx(h,{value:e.pack_quantity,extra:f,title:t._({id:"J9LTXQ"})})}},L({}),O({}),{accessor:"available",sortable:!0,defaultVisible:!1,render:e=>{const i=[];return e.availablility_updated&&i.push(s.jsxs(x,{children:[t._({id:"+b7T3G"})," : ",e.availablility_updated]})),s.jsx(h,{value:e.available,extra:i})}}],[a]),k=C({partId:a==null?void 0:a.part}),o=j({url:p.supplier_part_list,title:t._({id:"EREF+D"}),fields:k,initialData:{part:a==null?void 0:a.part,supplier:a==null?void 0:a.supplier},table:u,successMessage:t._({id:"LjPQ/X"})}),A=r.useMemo(()=>[s.jsx(T,{tooltip:t._({id:"PsAftp"}),onClick:()=>o.open(),hidden:!l.hasAddRole(n.purchase_order)},"add-supplier-part")],[l]),v=r.useMemo(()=>[{name:"active",label:t._({id:"F6pfE9"}),description:t._({id:"fPFpxB"})},{name:"part_active",label:t._({id:"9RQlSP"}),description:t._({id:"AS2E8V"})},{name:"supplier_active",label:t._({id:"2OQxz2"}),description:t._({id:"T+mlMU"})},{name:"has_stock",label:t._({id:"zn38D/"}),description:t._({id:"u22Ntx"})}],[]),d=C({}),[c,_]=r.useState(0),b=M({url:p.supplier_part_list,pk:c,title:t._({id:"qZstuw"}),fields:d,table:u}),m=D({url:p.supplier_part_list,pk:c,title:t._({id:"9Qoago"}),table:u}),F=r.useCallback(e=>[R({hidden:!l.hasChangeRole(n.purchase_order),onClick:()=>{_(e.pk),b.open()}}),y({hidden:!l.hasDeleteRole(n.purchase_order),onClick:()=>{_(e.pk),m.open()}})],[l,d]);return s.jsxs(s.Fragment,{children:[o.modal,b.modal,m.modal,s.jsx(w,{url:B(p.supplier_part_list),tableState:u,columns:S,props:{params:{...a,part_detail:!0,supplier_detail:!0,manufacturer_detail:!0},rowActions:F,enableDownload:!0,tableActions:A,tableFilters:v,modelType:U.supplierpart}})]})}export{K as S};
//# sourceMappingURL=SupplierPartTable-DEvmpUSZ.js.map
