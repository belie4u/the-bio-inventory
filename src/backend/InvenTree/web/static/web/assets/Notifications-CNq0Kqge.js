import{r as m,i as t,j as e,eR as b,I as x,eS as _,aj as h,bc as j,cH as k,S as T}from"./vendor-COjCG5sX.js";import{A}from"./ActionButton-DLsRvAT1.js";import{e as n,A as r}from"./index-ClP83spC.js";import{P as I}from"./PageDetail-p6Y4q-h-.js";import{P}from"./PanelGroup-CYF3auDg.js";import{u as g}from"./DesktopAppView-DxQJo3T-.js";import{I as C,u}from"./InvenTreeTable-BLgfUICM.js";import"./UseForm-DUtLE7-5.js";import"./ThemeContext-B85sS1BU.js";import"./PageTitle-Cvnbh7U4.js";import"./PluginSource-CHMSfDB-.js";import"./RemoteComponent-C77F08TN.js";import"./index-dkDFLfDd.js";import"./QRCode-tr3h0Ayp.js";import"./browser-BL541dLs.js";function f({params:a,tableState:i,tableActions:o,actions:l}){const p=m.useMemo(()=>[{accessor:"age_human",title:t._({id:"RCU5PY"}),sortable:!0,ordering:"creation"},{accessor:"category",title:t._({id:"K7tIrx"}),sortable:!0},{accessor:"name",title:t._({id:"5+87Pq"})},{accessor:"message",title:t._({id:"xDAtGP"})}],[]);return e.jsx(C,{url:n(r.notifications_list),tableState:i,columns:p,props:{rowActions:l,tableActions:o,enableSelection:!0,enableBulkDelete:!0,params:a}})}function w(){const a=g(),i=u("unreadnotifications"),o=u("readnotifications"),l=m.useCallback(()=>{a.get(n(r.notifications_readall),{params:{read:!1}}).then(s=>{i.refreshTable(),o.refreshTable()}).catch(s=>{})},[]),p=m.useMemo(()=>[{name:"unread",label:t._({id:"iDNBZe"}),icon:e.jsx(_,{size:"18"}),content:e.jsx(f,{params:{read:!1},tableState:i,actions:s=>[{title:t._({id:"+s1J8k"}),color:"green",icon:e.jsx(x,{}),onClick:()=>{const c=n(r.notifications_list,s.pk);a.patch(c,{read:!0}).then(d=>{i.refreshTable()})}}],tableActions:[e.jsx(A,{icon:e.jsx(b,{}),tooltip:t._({id:"onllUU"}),onClick:l})]})},{name:"history",label:t._({id:"0caMy7"}),icon:e.jsx(k,{size:"18"}),content:e.jsx(f,{params:{read:!0},tableState:o,actions:s=>[{title:t._({id:"5GPcf9"}),icon:e.jsx(h,{}),onClick:()=>{const c=n(r.notifications_list,s.pk);a.patch(c,{read:!1}).then(d=>{o.refreshTable()})}},{title:t._({id:"cnGeoo"}),color:"red",icon:e.jsx(j,{}),onClick:()=>{a.delete(n(r.notifications_list,s.pk)).then(c=>{o.refreshTable()})}}],tableActions:[]})}],[i,o]);return e.jsxs(T,{children:[e.jsx(I,{title:t._({id:"iDNBZe"})}),e.jsx(P,{pageKey:"notifications",panels:p})]})}export{w as default};
//# sourceMappingURL=Notifications-CNq0Kqge.js.map
