{"version":3,"mappings":"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","names":["ReportTemplatePanel","Loadable","lazy","LabelTemplatePanel","UserManagementPanel","EmailManagementPanel","TaskManagementPanel","CurrencyManagementPanel","UnitManagementPanel","PluginManagementPanel","MachineManagementPanel","PartParameterPanel","ErrorReportTable","BarcodeScanHistoryTable","ExportSessionTable","ImportSessionTable","ProjectCodeTable","CustomStateTable","PartCategoryTemplateTable","LocationTypesTable","AdminCenter","user","useUserState","adminCenterPanels","useMemo","name","label","_i18n","_","id","icon","IconUsersGroup","content","hidden","hasViewRole","UserRoles","admin","IconMail","isSuperuser","IconFileUpload","IconFileDownload","IconQrcode","IconCpu","IconExclamationCircle","IconCoins","IconListDetails","jsxs","Stack","jsx","GlobalSettingList","IconScale","IconList","part","IconSitemap","part_category","IconTags","IconReport","IconPackages","stock_location","IconPlugConnected","IconDevicesPc","grouping","panelIDs","Fragment","PageTitle","isStaff","SettingsHeader","PanelGroup","PermissionDenied"],"ignoreList":[],"sources":["../../../../../../frontend/src/pages/Index/Settings/AdminCenter/Index.tsx"],"sourcesContent":["import { t } from '@lingui/core/macro';\nimport { Stack } from '@mantine/core';\nimport {\n  IconCoins,\n  IconCpu,\n  IconDevicesPc,\n  IconExclamationCircle,\n  IconFileDownload,\n  IconFileUpload,\n  IconList,\n  IconListDetails,\n  IconMail,\n  IconPackages,\n  IconPlugConnected,\n  IconQrcode,\n  IconReport,\n  IconScale,\n  IconSitemap,\n  IconTags,\n  IconUsersGroup\n} from '@tabler/icons-react';\nimport { lazy, useMemo } from 'react';\n\nimport { UserRoles } from '@lib/enums/Roles';\nimport PermissionDenied from '../../../../components/errors/PermissionDenied';\nimport PageTitle from '../../../../components/nav/PageTitle';\nimport { SettingsHeader } from '../../../../components/nav/SettingsHeader';\nimport type {\n  PanelGroupType,\n  PanelType\n} from '../../../../components/panels/Panel';\nimport { PanelGroup } from '../../../../components/panels/PanelGroup';\nimport { GlobalSettingList } from '../../../../components/settings/SettingList';\nimport { Loadable } from '../../../../functions/loading';\nimport { useUserState } from '../../../../states/UserState';\n\nconst ReportTemplatePanel = Loadable(\n  lazy(() => import('./ReportTemplatePanel'))\n);\n\nconst LabelTemplatePanel = Loadable(lazy(() => import('./LabelTemplatePanel')));\n\nconst UserManagementPanel = Loadable(\n  lazy(() => import('./UserManagementPanel'))\n);\n\nconst EmailManagementPanel = Loadable(\n  lazy(() => import('./EmailManagementPanel'))\n);\n\nconst TaskManagementPanel = Loadable(\n  lazy(() => import('./TaskManagementPanel'))\n);\n\nconst CurrencyManagementPanel = Loadable(\n  lazy(() => import('./CurrencyManagementPanel'))\n);\n\nconst UnitManagementPanel = Loadable(\n  lazy(() => import('./UnitManagementPanel'))\n);\n\nconst PluginManagementPanel = Loadable(\n  lazy(() => import('./PluginManagementPanel'))\n);\n\nconst MachineManagementPanel = Loadable(\n  lazy(() => import('./MachineManagementPanel'))\n);\n\nconst PartParameterPanel = Loadable(lazy(() => import('./PartParameterPanel')));\n\nconst ErrorReportTable = Loadable(\n  lazy(() => import('../../../../tables/settings/ErrorTable'))\n);\n\nconst BarcodeScanHistoryTable = Loadable(\n  lazy(() => import('../../../../tables/settings/BarcodeScanHistoryTable'))\n);\n\nconst ExportSessionTable = Loadable(\n  lazy(() => import('../../../../tables/settings/ExportSessionTable'))\n);\n\nconst ImportSessionTable = Loadable(\n  lazy(() => import('../../../../tables/settings/ImportSessionTable'))\n);\n\nconst ProjectCodeTable = Loadable(\n  lazy(() => import('../../../../tables/settings/ProjectCodeTable'))\n);\n\nconst CustomStateTable = Loadable(\n  lazy(() => import('../../../../tables/settings/CustomStateTable'))\n);\n\nconst PartCategoryTemplateTable = Loadable(\n  lazy(() => import('../../../../tables/part/PartCategoryTemplateTable'))\n);\n\nconst LocationTypesTable = Loadable(\n  lazy(() => import('../../../../tables/stock/LocationTypesTable'))\n);\n\nexport default function AdminCenter() {\n  const user = useUserState();\n\n  const adminCenterPanels: PanelType[] = useMemo(() => {\n    return [\n      {\n        name: 'user',\n        label: t`Users / Access`,\n        icon: <IconUsersGroup />,\n        content: <UserManagementPanel />,\n        hidden: !user.hasViewRole(UserRoles.admin)\n      },\n      {\n        name: 'email',\n        label: t`Email Settings`,\n        icon: <IconMail />,\n        content: <EmailManagementPanel />,\n        hidden: !user.isSuperuser()\n      },\n      {\n        name: 'import',\n        label: t`Data Import`,\n        icon: <IconFileUpload />,\n        content: <ImportSessionTable />\n      },\n      {\n        name: 'export',\n        label: t`Data Export`,\n        icon: <IconFileDownload />,\n        content: <ExportSessionTable />\n      },\n      {\n        name: 'barcode-history',\n        label: t`Barcode Scans`,\n        icon: <IconQrcode />,\n        content: <BarcodeScanHistoryTable />\n      },\n      {\n        name: 'background',\n        label: t`Background Tasks`,\n        icon: <IconCpu />,\n        content: <TaskManagementPanel />\n      },\n      {\n        name: 'errors',\n        label: t`Error Reports`,\n        icon: <IconExclamationCircle />,\n        content: <ErrorReportTable />\n      },\n      {\n        name: 'currencies',\n        label: t`Currencies`,\n        icon: <IconCoins />,\n        content: <CurrencyManagementPanel />\n      },\n      {\n        name: 'project-codes',\n        label: t`Project Codes`,\n        icon: <IconListDetails />,\n        content: (\n          <Stack gap='xs'>\n            <GlobalSettingList keys={['PROJECT_CODES_ENABLED']} />\n            <ProjectCodeTable />\n          </Stack>\n        )\n      },\n      {\n        name: 'custom-states',\n        label: t`Custom States`,\n        icon: <IconListDetails />,\n        content: <CustomStateTable />\n      },\n      {\n        name: 'custom-units',\n        label: t`Custom Units`,\n        icon: <IconScale />,\n        content: <UnitManagementPanel />\n      },\n      {\n        name: 'part-parameters',\n        label: t`Part Parameters`,\n        icon: <IconList />,\n        content: <PartParameterPanel />,\n        hidden: !user.hasViewRole(UserRoles.part)\n      },\n      {\n        name: 'category-parameters',\n        label: t`Category Parameters`,\n        icon: <IconSitemap />,\n        content: <PartCategoryTemplateTable />,\n        hidden: !user.hasViewRole(UserRoles.part_category)\n      },\n      {\n        name: 'labels',\n        label: t`Label Templates`,\n        icon: <IconTags />,\n        content: <LabelTemplatePanel />\n      },\n      {\n        name: 'reports',\n        label: t`Report Templates`,\n        icon: <IconReport />,\n        content: <ReportTemplatePanel />\n      },\n      {\n        name: 'location-types',\n        label: t`Location Types`,\n        icon: <IconPackages />,\n        content: <LocationTypesTable />,\n        hidden: !user.hasViewRole(UserRoles.stock_location)\n      },\n      {\n        name: 'plugin',\n        label: t`Plugins`,\n        icon: <IconPlugConnected />,\n        content: <PluginManagementPanel />,\n        hidden: !user.hasViewRole(UserRoles.admin)\n      },\n      {\n        name: 'machine',\n        label: t`Machines`,\n        icon: <IconDevicesPc />,\n        content: <MachineManagementPanel />,\n        hidden: !user.hasViewRole(UserRoles.admin)\n      }\n    ];\n  }, [user]);\n  const grouping: PanelGroupType[] = useMemo(() => {\n    return [\n      {\n        id: 'ops',\n        label: t`Operations`,\n        panelIDs: [\n          'user',\n          'barcode-history',\n          'background',\n          'errors',\n          'currencies',\n          'email'\n        ]\n      },\n      {\n        id: 'data',\n        label: t`Data Management`,\n        panelIDs: [\n          'import',\n          'export',\n          'project-codes',\n          'custom-states',\n          'custom-units'\n        ]\n      },\n      {\n        id: 'reporting',\n        label: t`Reporting`,\n        panelIDs: ['labels', 'reports']\n      },\n      {\n        id: 'plm',\n        label: t`PLM`,\n        panelIDs: [\n          'part-parameters',\n          'category-parameters',\n          'location-types',\n          'stocktake'\n        ]\n      },\n      {\n        id: 'extend',\n        label: t`Extend / Integrate`,\n        panelIDs: ['plugin', 'machine']\n      }\n    ];\n  }, []);\n\n  return (\n    <>\n      <PageTitle title={t`Admin Center`} />\n      {user.isStaff() ? (\n        <Stack gap='xs'>\n          <SettingsHeader\n            label='admin'\n            title={t`Admin Center`}\n            subtitle={t`Advanced Options`}\n          />\n          <PanelGroup\n            pageKey='admin-center'\n            panels={adminCenterPanels}\n            groups={grouping}\n            collapsible={true}\n            model='admincenter'\n            id={null}\n          />\n        </Stack>\n      ) : (\n        <PermissionDenied />\n      )}\n    </>\n  );\n}\n"],"file":"assets/Index-Bx4HeSKS.js"}