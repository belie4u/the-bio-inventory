import{r as l,i as r,j as t}from"./vendor-COjCG5sX.js";import{b as f,A as C}from"./UseForm-DUtLE7-5.js";import{b as F,m as a,A as m,U as y,e as h}from"./index-ClP83spC.js";import{a as j}from"./formatters-BZ5YEOyk.js";import{u as ee}from"./ReturnOrderForms-C-j_t4gS.js";import{u as x,b as D,c as T,d as S,A as g,M as A,e as R,C as M,f as V,T as O,g as B,S as U,h as w,i as P,j as k,H as v,k as E,l as J,m as K,n as W,I as Z}from"./InvenTreeTable-BLgfUICM.js";import{R as z,D as H,a as L,S as N,b as q,c as G,d as Q,e as X,T as Y,f as re,g as $,C as I,i as te}from"./ColumnRenderers-g3zQL0h_.js";import{P as se}from"./index-dkDFLfDd.js";import{u as ae}from"./SalesOrderForms-DcYGKL77.js";function _e({partId:s,customerId:o}){const c=x(s?"returnorders-part":"returnorders-index"),i=F(),p=l.useMemo(()=>{const e=[D({model:a.returnorder}),T(),S(),g(),A(),R(),M(),V(),O(),B(),U(),w(),{name:"has_target_date",type:"boolean",label:r._({id:"egtJvp"}),description:r._({id:"hnmJUh"})},{name:"has_start_date",type:"boolean",label:r._({id:"7Cajbj"}),description:r._({id:"dklbxT"})},P(),k(),v(),E(),J(),K()];return s&&e.push(W()),e},[s]),_=l.useMemo(()=>[z({}),{accessor:"customer__name",title:r._({id:"876pfE"}),sortable:!0,render:e=>t.jsx(I,{company:e.customer_detail})},{accessor:"customer_reference"},H({}),L({}),N({model:a.returnorder}),q({defaultVisible:!1}),G({defaultVisible:!1}),Q({defaultVisible:!1}),X({defaultVisible:!1}),Y({}),re({accessor:"complete_date"}),$({}),{accessor:"total_price",title:r._({id:"KyZVKD"}),sortable:!0,render:e=>{var n;return j(e.total_price,{currency:e.order_currency||((n=e.customer_detail)==null?void 0:n.currency)})}}],[]),d=ee({}),u=f({url:m.return_order_list,title:r._({id:"mpNlR/"}),fields:d,initialData:{customer:o},follow:!0,modelType:a.returnorder}),b=l.useMemo(()=>[t.jsx(C,{tooltip:r._({id:"mpNlR/"}),onClick:()=>u.open(),hidden:!i.hasAddRole(y.return_order)},"add-return-order")],[i]);return t.jsxs(t.Fragment,{children:[u.modal,t.jsx(Z,{url:h(m.return_order_list),tableState:c,columns:_,props:{params:{part:s,customer:o,customer_detail:!0},tableFilters:p,tableActions:b,modelType:a.returnorder,enableSelection:!0,enableDownload:!0,enableReports:!0}})]})}function be({partId:s,customerId:o}){const c=x(s?"salesorder-part":"salesorder-index"),i=F(),p=l.useMemo(()=>{const e=[D({model:a.salesorder}),T(),S(),g(),A(),R(),M(),V(),O(),B(),U(),w(),{name:"has_target_date",type:"boolean",label:r._({id:"egtJvp"}),description:r._({id:"hnmJUh"})},{name:"has_start_date",type:"boolean",label:r._({id:"7Cajbj"}),description:r._({id:"dklbxT"})},P(),k(),v(),E(),J(),K()];return s&&e.push(W()),e},[s]),_=ae({}),d=f({url:m.sales_order_list,title:r._({id:"VzdnWM"}),fields:_,initialData:{customer:o},follow:!0,modelType:a.salesorder}),u=l.useMemo(()=>[t.jsx(C,{tooltip:r._({id:"VzdnWM"}),onClick:()=>d.open(),hidden:!i.hasAddRole(y.sales_order)},"add-sales-order")],[i]),b=l.useMemo(()=>[z({}),{accessor:"customer__name",title:r._({id:"876pfE"}),sortable:!0,render:e=>t.jsx(I,{company:e.customer_detail})},{accessor:"customer_reference",title:r._({id:"ZVUe1A"})},H({}),L({}),{accessor:"shipments_count",title:r._({id:"aljM0q"}),minWidth:125,render:e=>t.jsx(se,{progressLabel:!0,value:e.completed_shipments_count,maximum:e.shipments_count})},N({model:a.salesorder}),q({defaultVisible:!1}),G({defaultVisible:!1}),Q({defaultVisible:!1}),X({defaultVisible:!1}),Y({}),te({}),$({}),{accessor:"total_price",title:r._({id:"KyZVKD"}),sortable:!0,render:e=>{var n;return j(e.total_price,{currency:e.order_currency||((n=e.customer_detail)==null?void 0:n.currency)})}}],[]);return t.jsxs(t.Fragment,{children:[d.modal,t.jsx(Z,{url:h(m.sales_order_list),tableState:c,columns:b,props:{params:{customer_detail:!0,part:s,customer:o},tableFilters:p,tableActions:u,modelType:a.salesorder,enableSelection:!0,enableDownload:!0,enableReports:!0}})]})}export{_e as R,be as S};
//# sourceMappingURL=SalesOrderTable-Ek7df_RR.js.map
