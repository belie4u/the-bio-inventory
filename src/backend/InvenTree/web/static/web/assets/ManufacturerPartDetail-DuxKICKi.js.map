{"version":3,"file":"ManufacturerPartDetail-DuxKICKi.js","sources":["../../../../../../frontend/src/tables/purchasing/ManufacturerPartParameterTable.tsx","../../../../../../frontend/src/pages/company/ManufacturerPartDetail.tsx"],"sourcesContent":["import { t } from '@lingui/core/macro';\nimport { useCallback, useMemo, useState } from 'react';\n\nimport { AddItemButton } from '@lib/components/AddItemButton';\nimport {\n  type RowAction,\n  RowDeleteAction,\n  RowEditAction\n} from '@lib/components/RowActions';\nimport { ApiEndpoints } from '@lib/enums/ApiEndpoints';\nimport { UserRoles } from '@lib/enums/Roles';\nimport { apiUrl } from '@lib/functions/Api';\nimport type { TableColumn } from '@lib/types/Tables';\nimport { useManufacturerPartParameterFields } from '../../forms/CompanyForms';\nimport {\n  useCreateApiFormModal,\n  useDeleteApiFormModal,\n  useEditApiFormModal\n} from '../../hooks/UseForm';\nimport { useTable } from '../../hooks/UseTable';\nimport { useUserState } from '../../states/UserState';\nimport { InvenTreeTable } from '../InvenTreeTable';\n\nexport default function ManufacturerPartParameterTable({\n  params\n}: Readonly<{\n  params: any;\n}>) {\n  const table = useTable('manufacturer-part-parameter');\n  const user = useUserState();\n\n  const tableColumns: TableColumn[] = useMemo(() => {\n    return [\n      {\n        accessor: 'name',\n        title: t`Name`,\n        sortable: true,\n        switchable: false\n      },\n      {\n        accessor: 'value',\n        title: t`Value`,\n        sortable: true,\n        switchable: false\n      },\n      {\n        accessor: 'units',\n        title: t`Units`,\n        sortable: false,\n        switchable: true\n      }\n    ];\n  }, []);\n\n  const fields = useManufacturerPartParameterFields();\n\n  const [selectedParameter, setSelectedParameter] = useState<\n    number | undefined\n  >(undefined);\n\n  const createParameter = useCreateApiFormModal({\n    url: ApiEndpoints.manufacturer_part_parameter_list,\n    title: t`Add Parameter`,\n    fields: fields,\n    table: table,\n    initialData: {\n      manufacturer_part: params.manufacturer_part\n    }\n  });\n\n  const editParameter = useEditApiFormModal({\n    url: ApiEndpoints.manufacturer_part_parameter_list,\n    pk: selectedParameter,\n    title: t`Edit Parameter`,\n    fields: fields,\n    table: table\n  });\n\n  const deleteParameter = useDeleteApiFormModal({\n    url: ApiEndpoints.manufacturer_part_parameter_list,\n    pk: selectedParameter,\n    title: t`Delete Parameter`,\n    table: table\n  });\n\n  const rowActions = useCallback(\n    (record: any): RowAction[] => {\n      return [\n        RowEditAction({\n          hidden: !user.hasChangeRole(UserRoles.purchase_order),\n          onClick: () => {\n            setSelectedParameter(record.pk);\n            editParameter.open();\n          }\n        }),\n        RowDeleteAction({\n          hidden: !user.hasDeleteRole(UserRoles.purchase_order),\n          onClick: () => {\n            setSelectedParameter(record.pk);\n            deleteParameter.open();\n          }\n        })\n      ];\n    },\n    [user]\n  );\n\n  const tableActions = useMemo(() => {\n    return [\n      <AddItemButton\n        key='add-parameter'\n        tooltip={t`Add Parameter`}\n        onClick={() => {\n          createParameter.open();\n        }}\n        hidden={!user.hasAddRole(UserRoles.purchase_order)}\n      />\n    ];\n  }, [user]);\n\n  return (\n    <>\n      {createParameter.modal}\n      {editParameter.modal}\n      {deleteParameter.modal}\n      <InvenTreeTable\n        url={apiUrl(ApiEndpoints.manufacturer_part_parameter_list)}\n        tableState={table}\n        columns={tableColumns}\n        props={{\n          params: {\n            ...params\n          },\n          rowActions: rowActions,\n          tableActions: tableActions\n        }}\n      />\n    </>\n  );\n}\n","import { t } from '@lingui/core/macro';\nimport { Grid, Skeleton, Stack } from '@mantine/core';\nimport {\n  IconBuildingWarehouse,\n  IconInfoCircle,\n  IconList\n} from '@tabler/icons-react';\nimport { useMemo } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\n\nimport { ApiEndpoints } from '@lib/enums/ApiEndpoints';\nimport { ModelType } from '@lib/enums/ModelType';\nimport { UserRoles } from '@lib/enums/Roles';\nimport { apiUrl } from '@lib/functions/Api';\nimport { getDetailUrl } from '@lib/functions/Navigation';\nimport AdminButton from '../../components/buttons/AdminButton';\nimport {\n  type DetailsField,\n  DetailsTable\n} from '../../components/details/Details';\nimport { DetailsImage } from '../../components/details/DetailsImage';\nimport { ItemDetailsGrid } from '../../components/details/ItemDetails';\nimport {\n  DeleteItemAction,\n  DuplicateItemAction,\n  EditItemAction,\n  OptionsActionDropdown\n} from '../../components/items/ActionDropdown';\nimport InstanceDetail from '../../components/nav/InstanceDetail';\nimport { PageDetail } from '../../components/nav/PageDetail';\nimport AttachmentPanel from '../../components/panels/AttachmentPanel';\nimport NotesPanel from '../../components/panels/NotesPanel';\nimport type { PanelType } from '../../components/panels/Panel';\nimport { PanelGroup } from '../../components/panels/PanelGroup';\nimport { useManufacturerPartFields } from '../../forms/CompanyForms';\nimport {\n  useCreateApiFormModal,\n  useDeleteApiFormModal,\n  useEditApiFormModal\n} from '../../hooks/UseForm';\nimport { useInstance } from '../../hooks/UseInstance';\nimport { useUserState } from '../../states/UserState';\nimport ManufacturerPartParameterTable from '../../tables/purchasing/ManufacturerPartParameterTable';\nimport { SupplierPartTable } from '../../tables/purchasing/SupplierPartTable';\n\nexport default function ManufacturerPartDetail() {\n  const { id } = useParams();\n  const user = useUserState();\n  const navigate = useNavigate();\n\n  const {\n    instance: manufacturerPart,\n    instanceQuery,\n    refreshInstance\n  } = useInstance({\n    endpoint: ApiEndpoints.manufacturer_part_list,\n    pk: id,\n    hasPrimaryKey: true,\n    params: {\n      part_detail: true,\n      manufacturer_detail: true\n    }\n  });\n\n  const detailsPanel = useMemo(() => {\n    if (instanceQuery.isFetching) {\n      return <Skeleton />;\n    }\n\n    const data = manufacturerPart ?? {};\n\n    const tl: DetailsField[] = [\n      {\n        type: 'link',\n        name: 'part',\n        label: t`Internal Part`,\n        model: ModelType.part,\n        hidden: !manufacturerPart.part\n      },\n      {\n        type: 'string',\n        name: 'part_detail.IPN',\n        label: t`IPN`,\n        copy: true,\n        icon: 'serial',\n        hidden: !data.part_detail?.IPN\n      },\n      {\n        type: 'string',\n        name: 'part_detail.description',\n        label: t`Description`,\n        copy: true,\n        icon: 'info',\n        hidden: !manufacturerPart.description\n      }\n    ];\n\n    const tr: DetailsField[] = [\n      {\n        type: 'link',\n        name: 'manufacturer',\n        label: t`Manufacturer`,\n        icon: 'manufacturers',\n        model: ModelType.company,\n        hidden: !manufacturerPart.manufacturer\n      },\n      {\n        type: 'string',\n        name: 'MPN',\n        label: t`Manufacturer Part Number`,\n        copy: true,\n        hidden: !manufacturerPart.MPN,\n        icon: 'reference'\n      },\n      {\n        type: 'string',\n        name: 'description',\n        label: t`Description`,\n        copy: true,\n        hidden: !manufacturerPart.description,\n        icon: 'info'\n      },\n      {\n        type: 'link',\n        external: true,\n        name: 'link',\n        label: t`External Link`,\n        copy: true,\n        hidden: !manufacturerPart.link\n      }\n    ];\n\n    return (\n      <ItemDetailsGrid>\n        <Grid grow>\n          <DetailsImage\n            appRole={UserRoles.part}\n            src={manufacturerPart?.part_detail?.image}\n            apiPath={apiUrl(\n              ApiEndpoints.part_list,\n              manufacturerPart?.part_detail?.pk\n            )}\n            pk={manufacturerPart?.part_detail?.pk}\n          />\n          <Grid.Col span={{ base: 12, sm: 8 }}>\n            <DetailsTable title={t`Part Details`} fields={tl} item={data} />\n          </Grid.Col>\n        </Grid>\n        <DetailsTable title={t`Manufacturer Details`} fields={tr} item={data} />\n      </ItemDetailsGrid>\n    );\n  }, [manufacturerPart, instanceQuery]);\n\n  const panels: PanelType[] = useMemo(() => {\n    return [\n      {\n        name: 'details',\n        label: t`Manufacturer Part Details`,\n        icon: <IconInfoCircle />,\n        content: detailsPanel\n      },\n      {\n        name: 'parameters',\n        label: t`Parameters`,\n        icon: <IconList />,\n        content: manufacturerPart?.pk ? (\n          <ManufacturerPartParameterTable\n            params={{ manufacturer_part: manufacturerPart.pk }}\n          />\n        ) : (\n          <Skeleton />\n        )\n      },\n      {\n        name: 'suppliers',\n        label: t`Suppliers`,\n        icon: <IconBuildingWarehouse />,\n        content: manufacturerPart?.pk ? (\n          <SupplierPartTable\n            params={{\n              manufacturer_part: manufacturerPart.pk\n            }}\n          />\n        ) : (\n          <Skeleton />\n        )\n      },\n      AttachmentPanel({\n        model_type: ModelType.manufacturerpart,\n        model_id: manufacturerPart?.pk\n      }),\n      NotesPanel({\n        model_type: ModelType.manufacturerpart,\n        model_id: manufacturerPart?.pk\n      })\n    ];\n  }, [manufacturerPart]);\n\n  const editManufacturerPartFields = useManufacturerPartFields();\n\n  const editManufacturerPart = useEditApiFormModal({\n    url: ApiEndpoints.manufacturer_part_list,\n    pk: manufacturerPart?.pk,\n    title: t`Edit Manufacturer Part`,\n    fields: editManufacturerPartFields,\n    onFormSuccess: refreshInstance\n  });\n\n  const duplicateManufacturerPart = useCreateApiFormModal({\n    url: ApiEndpoints.manufacturer_part_list,\n    title: t`Add Manufacturer Part`,\n    fields: editManufacturerPartFields,\n    initialData: {\n      ...manufacturerPart\n    },\n    follow: true,\n    modelType: ModelType.manufacturerpart\n  });\n\n  const deleteManufacturerPart = useDeleteApiFormModal({\n    url: ApiEndpoints.manufacturer_part_list,\n    pk: manufacturerPart?.pk,\n    title: t`Delete Manufacturer Part`,\n    onFormSuccess: () => {\n      navigate(getDetailUrl(ModelType.part, manufacturerPart.part));\n    }\n  });\n\n  const manufacturerPartActions = useMemo(() => {\n    return [\n      <AdminButton\n        key='admin'\n        model={ModelType.manufacturerpart}\n        id={manufacturerPart.pk}\n      />,\n      <OptionsActionDropdown\n        key='options'\n        tooltip={t`Manufacturer Part Actions`}\n        actions={[\n          DuplicateItemAction({\n            hidden: !user.hasAddRole(UserRoles.purchase_order),\n            onClick: () => duplicateManufacturerPart.open()\n          }),\n          EditItemAction({\n            hidden: !user.hasChangeRole(UserRoles.purchase_order),\n            onClick: () => editManufacturerPart.open()\n          }),\n          DeleteItemAction({\n            hidden: !user.hasDeleteRole(UserRoles.purchase_order),\n            onClick: () => deleteManufacturerPart.open()\n          })\n        ]}\n      />\n    ];\n  }, [user, manufacturerPart]);\n\n  const breadcrumbs = useMemo(() => {\n    return [\n      {\n        name: t`Purchasing`,\n        url: '/purchasing/'\n      },\n      {\n        name: manufacturerPart?.manufacturer_detail?.name ?? t`Manufacturer`,\n        url: `/purchasing/manufacturer/${manufacturerPart?.manufacturer_detail?.pk}/`\n      }\n    ];\n  }, [manufacturerPart]);\n\n  return (\n    <>\n      {deleteManufacturerPart.modal}\n      {duplicateManufacturerPart.modal}\n      {editManufacturerPart.modal}\n      <InstanceDetail\n        query={instanceQuery}\n        requiredPermission={ModelType.manufacturerpart}\n      >\n        <Stack gap='xs'>\n          <PageDetail\n            title={t`ManufacturerPart`}\n            subtitle={`${manufacturerPart.MPN} - ${manufacturerPart.part_detail?.name}`}\n            breadcrumbs={breadcrumbs}\n            lastCrumb={[\n              {\n                name: manufacturerPart.MPN,\n                url: getDetailUrl(\n                  ModelType.manufacturerpart,\n                  manufacturerPart.pk\n                )\n              }\n            ]}\n            actions={manufacturerPartActions}\n            imageUrl={manufacturerPart?.part_detail?.thumbnail}\n            editAction={editManufacturerPart.open}\n            editEnabled={user.hasChangePermission(ModelType.manufacturerpart)}\n          />\n          <PanelGroup\n            pageKey='manufacturerpart'\n            panels={panels}\n            instance={manufacturerPart}\n            reloadInstance={refreshInstance}\n            model={ModelType.manufacturerpart}\n            id={manufacturerPart.pk}\n          />\n        </Stack>\n      </InstanceDetail>\n    </>\n  );\n}\n"],"names":["ManufacturerPartParameterTable","params","table","useTable","user","useUserState","tableColumns","useMemo","accessor","title","_i18n","_","id","sortable","switchable","fields","useManufacturerPartParameterFields","selectedParameter","setSelectedParameter","useState","undefined","createParameter","useCreateApiFormModal","url","ApiEndpoints","manufacturer_part_parameter_list","initialData","manufacturer_part","editParameter","useEditApiFormModal","pk","deleteParameter","useDeleteApiFormModal","rowActions","useCallback","record","RowEditAction","hidden","hasChangeRole","UserRoles","purchase_order","onClick","open","RowDeleteAction","hasDeleteRole","tableActions","jsx","AddItemButton","hasAddRole","jsxs","Fragment","modal","InvenTreeTable","apiUrl","ManufacturerPartDetail","useParams","navigate","useNavigate","instance","manufacturerPart","instanceQuery","refreshInstance","useInstance","endpoint","manufacturer_part_list","hasPrimaryKey","part_detail","manufacturer_detail","detailsPanel","isFetching","Skeleton","data","tl","type","name","label","model","ModelType","part","copy","icon","IPN","description","tr","company","manufacturer","MPN","external","link","ItemDetailsGrid","Grid","DetailsImage","image","part_list","base","sm","DetailsTable","panels","IconInfoCircle","content","IconList","IconBuildingWarehouse","SupplierPartTable","AttachmentPanel","model_type","manufacturerpart","model_id","NotesPanel","editManufacturerPartFields","useManufacturerPartFields","editManufacturerPart","onFormSuccess","duplicateManufacturerPart","follow","modelType","deleteManufacturerPart","getDetailUrl","manufacturerPartActions","AdminButton","OptionsActionDropdown","DuplicateItemAction","EditItemAction","DeleteItemAction","breadcrumbs","InstanceDetail","Stack","PageDetail","thumbnail","hasChangePermission","PanelGroup"],"mappings":"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"}