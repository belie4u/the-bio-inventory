import{r as o,i as a,j as t,cy as g,dA as F,by as W,bx as v,dC as G,S as q}from"./vendor-COjCG5sX.js";import{b as N,A as s,U as l,e as P,m as r,h as R}from"./index-ClP83spC.js";import{A as B}from"./AdminButton-DmZZOxW8.js";import{I as O,D as S,a as Q}from"./InstanceDetail-D0JUiPv3.js";import{D as Y,N as $}from"./NotesPanel-2dK9X1T7.js";import{u as H,R as X,a as Z,I as L,O as V,F as z,E as J,D as ee}from"./InvenTreeTable-BLgfUICM.js";import{P as te}from"./PageDetail-p6Y4q-h-.js";import{A as ae}from"./AttachmentPanel-Be6kmD3E.js";import{P as re}from"./PanelGroup-CYF3auDg.js";import{b as ie,u as se}from"./CompanyForms-CQAVE0Ar.js";import{b as w,u as T,a as E,A as oe}from"./UseForm-DUtLE7-5.js";import{u as ne}from"./UseInstance-CwLXxgXl.js";import{S as le}from"./SupplierPartTable-DEvmpUSZ.js";import{q as pe,a as de}from"./ThemeContext-B85sS1BU.js";import"./ActionButton-DLsRvAT1.js";import"./index-dkDFLfDd.js";import"./YesNoButton-DD4RFE30.js";import"./DesktopAppView-DxQJo3T-.js";import"./formatters-BZ5YEOyk.js";import"./ModelType-CaQkIuKb.js";import"./GenericErrorPage-DS07aljU.js";import"./NotFound-LPA9XMjd.js";import"./PermissionDenied-DglG0Y8V.js";import"./QRCode-tr3h0Ayp.js";import"./browser-BL541dLs.js";import"./PageTitle-Cvnbh7U4.js";import"./AttachmentLink-Bdm2Ykvd.js";import"./PluginSource-CHMSfDB-.js";import"./RemoteComponent-C77F08TN.js";import"./ColumnRenderers-g3zQL0h_.js";function me({params:_}){const i=H("manufacturer-part-parameter"),n=N(),e=o.useMemo(()=>[{accessor:"name",title:a._({id:"6YtxFj"}),sortable:!0,switchable:!1},{accessor:"value",title:a._({id:"wMHvYH"}),sortable:!0,switchable:!1},{accessor:"units",title:a._({id:"QrhaVg"}),sortable:!1,switchable:!0}],[]),p=ie(),[c,h]=o.useState(void 0),f=w({url:s.manufacturer_part_parameter_list,title:a._({id:"WrK5aa"}),fields:p,table:i,initialData:{manufacturer_part:_.manufacturer_part}}),u=T({url:s.manufacturer_part_parameter_list,pk:c,title:a._({id:"FDjidN"}),fields:p,table:i}),d=E({url:s.manufacturer_part_parameter_list,pk:c,title:a._({id:"qSo+g1"}),table:i}),b=o.useCallback(x=>[X({hidden:!n.hasChangeRole(l.purchase_order),onClick:()=>{h(x.pk),u.open()}}),Z({hidden:!n.hasDeleteRole(l.purchase_order),onClick:()=>{h(x.pk),d.open()}})],[n]),k=o.useMemo(()=>[t.jsx(oe,{tooltip:a._({id:"WrK5aa"}),onClick:()=>{f.open()},hidden:!n.hasAddRole(l.purchase_order)},"add-parameter")],[n]);return t.jsxs(t.Fragment,{children:[f.modal,u.modal,d.modal,t.jsx(L,{url:P(s.manufacturer_part_parameter_list),tableState:i,columns:e,props:{params:{..._},rowActions:b,tableActions:k}})]})}function Be(){var M,y;const{id:_}=pe(),i=N(),n=de(),{instance:e,instanceQuery:p,refreshInstance:c}=ne({endpoint:s.manufacturer_part_list,pk:_,hasPrimaryKey:!0,params:{part_detail:!0,manufacturer_detail:!0}}),h=o.useMemo(()=>{var A,D,C,I;if(p.isFetching)return t.jsx(g,{});const m=e??{},j=[{type:"link",name:"part",label:a._({id:"GNd5ad"}),model:r.part,hidden:!e.part},{type:"string",name:"part_detail.IPN",label:a._({id:"3wXEsN"}),copy:!0,icon:"serial",hidden:!((A=m.part_detail)!=null&&A.IPN)},{type:"string",name:"part_detail.description",label:a._({id:"Nu4oKW"}),copy:!0,icon:"info",hidden:!e.description}],U=[{type:"link",name:"manufacturer",label:a._({id:"+m9/3S"}),icon:"manufacturers",model:r.company,hidden:!e.manufacturer},{type:"string",name:"MPN",label:a._({id:"ZCCuT2"}),copy:!0,hidden:!e.MPN,icon:"reference"},{type:"string",name:"description",label:a._({id:"Nu4oKW"}),copy:!0,hidden:!e.description,icon:"info"},{type:"link",external:!0,name:"link",label:a._({id:"0R4wMK"}),copy:!0,hidden:!e.link}];return t.jsxs(O,{children:[t.jsxs(F,{grow:!0,children:[t.jsx(Y,{appRole:l.part,src:(D=e==null?void 0:e.part_detail)==null?void 0:D.image,apiPath:P(s.part_list,(C=e==null?void 0:e.part_detail)==null?void 0:C.pk),pk:(I=e==null?void 0:e.part_detail)==null?void 0:I.pk}),t.jsx(F.Col,{span:{base:12,sm:8},children:t.jsx(S,{title:a._({id:"sQRZ1+"}),fields:j,item:m})})]}),t.jsx(S,{title:a._({id:"BCSxrX"}),fields:U,item:m})]})},[e,p]),f=o.useMemo(()=>[{name:"details",label:a._({id:"uN9giG"}),icon:t.jsx(W,{}),content:h},{name:"parameters",label:a._({id:"F18WP3"}),icon:t.jsx(v,{}),content:e!=null&&e.pk?t.jsx(me,{params:{manufacturer_part:e.pk}}):t.jsx(g,{})},{name:"suppliers",label:a._({id:"9RecCt"}),icon:t.jsx(G,{}),content:e!=null&&e.pk?t.jsx(le,{params:{manufacturer_part:e.pk}}):t.jsx(g,{})},ae({model_type:r.manufacturerpart,model_id:e==null?void 0:e.pk}),$({model_type:r.manufacturerpart,model_id:e==null?void 0:e.pk})],[e]),u=se(),d=T({url:s.manufacturer_part_list,pk:e==null?void 0:e.pk,title:a._({id:"b30yxS"}),fields:u,onFormSuccess:c}),b=w({url:s.manufacturer_part_list,title:a._({id:"uOeMYf"}),fields:u,initialData:{...e},follow:!0,modelType:r.manufacturerpart}),k=E({url:s.manufacturer_part_list,pk:e==null?void 0:e.pk,title:a._({id:"fMDrRl"}),onFormSuccess:()=>{n(R(r.part,e.part))}}),x=o.useMemo(()=>[t.jsx(B,{model:r.manufacturerpart,id:e.pk},"admin"),t.jsx(V,{tooltip:a._({id:"D/ppgk"}),actions:[z({hidden:!i.hasAddRole(l.purchase_order),onClick:()=>b.open()}),J({hidden:!i.hasChangeRole(l.purchase_order),onClick:()=>d.open()}),ee({hidden:!i.hasDeleteRole(l.purchase_order),onClick:()=>k.open()})]},"options")],[i,e]),K=o.useMemo(()=>{var m,j;return[{name:a._({id:"UOTpFa"}),url:"/purchasing/"},{name:((m=e==null?void 0:e.manufacturer_detail)==null?void 0:m.name)??a._({id:"+m9/3S"}),url:`/purchasing/manufacturer/${(j=e==null?void 0:e.manufacturer_detail)==null?void 0:j.pk}/`}]},[e]);return t.jsxs(t.Fragment,{children:[k.modal,b.modal,d.modal,t.jsx(Q,{query:p,requiredPermission:r.manufacturerpart,children:t.jsxs(q,{gap:"xs",children:[t.jsx(te,{title:a._({id:"WssheI"}),subtitle:`${e.MPN} - ${(M=e.part_detail)==null?void 0:M.name}`,breadcrumbs:K,lastCrumb:[{name:e.MPN,url:R(r.manufacturerpart,e.pk)}],actions:x,imageUrl:(y=e==null?void 0:e.part_detail)==null?void 0:y.thumbnail,editAction:d.open,editEnabled:i.hasChangePermission(r.manufacturerpart)}),t.jsx(re,{pageKey:"manufacturerpart",panels:f,instance:e,reloadInstance:c,model:r.manufacturerpart,id:e.pk})]})})]})}export{Be as default};
//# sourceMappingURL=ManufacturerPartDetail-DuxKICKi.js.map
